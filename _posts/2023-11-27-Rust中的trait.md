---
layout: post
title:  "Rust中的trait"
date: 2023-11-27 22:40:00 +0800
tags: Rust 
color: rgb(255,90,90)
cover: '../assets/rustacean-flat-happy.png'
---
在 Rust 中，trait 是一种定义方法集合的方式，可以用来定义类型的行为。trait 可以被多个类型实现，而且新的 trait 可以为已有类型提供实现。  

trait 可以看作是 Rust 中的接口，但是与其他语言中的接口有所不同。  

trait 可以包含多个方法，每个方法都有一个签名。trait 的方法签名是一行一行列出来的，每行以分号结尾。trait 的方法签名中可以包含泛型参数。trait 的定义中不包含方法的实现，方法的实现由实现 trait 的类型提供。实现 trait 的类型必须提供 trait 中所有方法的实现。trait 的定义中可以包含关联类型，关联类型是一个占位符类型，由实现 trait 的类型指定具体类型。关联类型可以用于定义 trait 中的方法签名。关联类型的定义使用关键字 `type`。关联类型的定义中可以包含泛型参数。关联类型的定义中不包含具体类型，具体类型由实现 trait 的类型指定。关联类型的定义中可以包含默认类型，如果实现 trait 的类型没有指定具体类型，就会使用默认类型。关联类型的默认类型使用关键字 `=`。关联类型的默认类型只能在 trait 中定义，不能在实现 trait 的类型中定义。关联类型的默认类型只能有一个。关联类型的默认类型只能是具体类型，不能是泛型类型。关联类型的默认类型只能是实现了 trait 的类型。关联类型的默认类型只能是当前 trait 或者当前 trait 的超级 trait 的关联类型。关联类型的默认类型只能是当前 trait 或者当前 trait 的超级 trait 的关联类型的默认类型。关联类型的默认类型只能是当前 trait 或者当前 trait 的超级 trait 的关联类型的默认类型的默认类型。

方法是一种定义在结构体、枚举、trait 对象或 impl 块中的函数。方法的第一个参数是 self，它代表调用该方法的实例。方法可以是关联函数，也可以是实例方法。关联函数是不带 self 参数的函数，它们被定义在 impl 块中，而不是结构体或枚举中。关联函数可以被调用，而不需要实例化结构体或枚举。实例方法是带有 self 参数的函数，它们被定义在结构体、枚举或 trait 中。实例方法只能被实例化的结构体或枚举调用。

因此，trait 和方法的区别在于，trait 是一种定义方法集合的方式，可以被多个类型实现，而方法是一种定义在结构体、枚举、trait 对象或 impl 块中的函数，它们只能被实例化的结构体或枚举调用。

在 Rust 中，trait 是一种面向对象思想的实现，但是与其他语言中的接口有所不同。
Todo...